jQuery.fn.arraypick=function(t,e){var a={arraydata:[],numcols:0,maxnumcols:0,event:"click",valuefield:null,opacity:.9};t&&jQuery.extend(a,t);var e=e||function(){};if(a.numcols>0)var r=a.numcols;else var r=Math.round(Math.sqrt(a.arraydata.length));if(a.maxnumcols>0&&r>a.maxnumcols)var r=a.maxnumcols;return jQuery(this)[a.event](function(t){function n(){for(var t=0,e=1,n=Math.ceil(a.arraydata.length/r),o=0;o<a.arraydata.length;o++)$hd=jQuery("<div class='AP_arr' id='hr_"+o+"_"+t+"'>"+a.arraydata[o].show+"</div>"),l($hd),$arrcol[t].append($hd),e==n?(t++,e=1):e++;for(var o=0;r>o;o++)h.append($arrcol[o])}function o(){"focus"!=t.type?(h[0].style.left=t.pageX-5+"px",h[0].style.top=t.pageY+"px",c(h)):p.after(h),h.slideDown("fast")}function c(t){var e=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,a=(document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,parseInt(t[0].style.top)),r=parseInt(t[0].style.left),n=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;a+t.height()-n>e&&t.css("top",n+e-t.height()-10+"px"),0>=r&&t.css("left","10px")}function l(t){"AP_arrcont"==t.attr("id")?t.mouseout(function(t){u(t)}):"AP_arr"==t.attr("class")&&(t.mouseover(function(e){i(t,e)}),t.mouseout(function(){d(t)}),t.click(function(){s(t)}))}function u(t){try{var e=t.toElement?t.toElement:t.relatedTarget;jQuery(e).is("div[class^=AP], iframe")||f()}catch(t){f()}}function i(t,e){t.attr("id").split("_")[1],t.attr("id").split("_")[2];return t.addClass("AP_over"),!1}function d(t){return t.removeClass("AP_over"),!1}function s(t){var e=t.attr("id").split("_")[1];m(a.arraydata[e].value,a.arraydata[e].show,e),f()}function m(t,r,n){a.valuefield?jQuery("#"+a.valuefield).val(t):y.value=t,e.apply(p,[t,r,n])}function f(){h.slideUp("fast")}var y=this,p=jQuery(this),v=jQuery("body");jQuery("#AP_arrcont").remove();var h=jQuery("<div id='AP_arrcont' class='AP' />").appendTo(v);h.css("opacity",a.opacity),l(h),$arrcol=new Array;for(var _=0;r>_;_++)$arrcol[_]=jQuery("<div class='AP_arrcol' id='arrcol"+_+"' />").appendTo(v),$arrcol[_].addClass("floatleft");return n(),o(),!1}),this};
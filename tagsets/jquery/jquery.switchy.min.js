!function(t){"use strict";var i=function(i,s){this.options=s,this.$element=t(i),this.$container=t("<div class='switchy-container'></div>"),this.$bar=t("<div class='switchy-bar'></div>"),this.$slider=t("<div class='switchy-slider' draggable='true'></div>"),this.$options=t(i).children("option"),this.numberOfOptions=this.$options.length,this.initialOptionIndex=this.$options.filter('[value="'+t(i).val()+'"]').index(),this.firstOptionLabel=this.$options.first().text(),this.lastOptionLabel=this.$options.last().text(),this.firstOptionLabelHTML=t.parseHTML('<div class="switchy-labels">'+this.firstOptionLabel+"</div>"),this.lastOptionLabelHTML=t.parseHTML('<div class="switchy-labels">'+this.lastOptionLabel+"</div>"),this.init()};i.prototype={constructor:i,lastSliderPosition:null,init:function(){var i=this;this.$element.css({position:"absolute",left:"-9999px"}),this.$container.append(this.$bar.append(this.$slider)),this.$element.after(this.lastOptionLabelHTML),this.$element.after(this.$container),this.$element.after(this.firstOptionLabelHTML),this.lastSliderPosition=this.initialOptionIndex;var s=this.$bar.innerWidth()/(this.numberOfOptions-1);this.$slider.css({left:i.sliderPosition(s,this.initialOptionIndex)}),this.$element.on("change",function(t){var e=i.$options.filter('[value="'+i.$element.val()+'"]').index();i.lastSliderPosition!=e&&i.moveSliderTo(s,e,!1)}),void 0!=this.$slider.drag&&1==this.options.draggable&&this.$slider.drag("end",function(t,e){var n=i.$slider.position().left+i.$slider.outerWidth(!0)/2,o=Math.round(n/s);i.moveSliderTo(s,o,!0)}).drag(function(s,e){var n={left:0,right:i.$bar.innerWidth()-i.$slider.outerWidth(!0)};t(this).css({left:Math.min(n.right,Math.max(n.left,e.offsetX))})},{relative:!0}),this.$bar.on("click",function(t){var e=i.$slider.position().left,n=Math.ceil(e/s),o=t.pageX-i.$bar.offset().left,l=Math.round(o/s);n!=l&&i.moveSliderTo(s,l,!0)})},sliderPosition:function(t,i){var s=null;return s=0==i?0:i==this.numberOfOptions-1?-this.$slider.outerWidth(!0):-(this.$slider.outerWidth(!0)/2),t*i+s},moveSliderTo:function(t,i,s){var e=this.sliderPosition(t,i);null!=e&&this.$slider.animate({left:e},"fast"),this.$options.removeAttr("selected"),this.$options.eq(i).prop("selected","selected"),1==s&&this.$element.trigger("change"),this.lastSliderPosition=i}},t.fn.switchy=function(s){return this.each(function(){var e=(t(this),t.extend({},t.fn.switchy.defaults,"object"==typeof s&&s));new i(this,e)})},t.fn.switchy.defaults={draggable:!0},t.fn.switchy.Constructor=i}(window.jQuery);